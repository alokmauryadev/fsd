<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Anjali‚Äôs Baking Bliss ‚Äî Menu (Updated +‚Çπ50)</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            display: ['Playfair Display', 'serif'],
            sans: ['Plus Jakarta Sans', 'system-ui', 'sans-serif'],
          },
          colors: {
            brand: {
              50: '#fff8e7',
              100: '#ffeec2',
              200: '#ffe29a',
              400: '#f7b948',
              500: '#f39d2f',
              600: '#d38316'
            },
            cocoa: {
              700: '#4b2e21',
            }
          },
          boxShadow: {
            card: '0 8px 24px -10px rgba(31,41,55,0.18)'
          }
        }
      }
    }
  </script>

  <!-- html2pdf.js -->

  <style>
    /* A4 canvas */
    .a4 {
      width: 210mm;
      min-height: 297mm;
    }
    /* Smoother rendering in PDF */
    .print-smooth {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-brand-50 to-rose-50/70 antialiased">
  <!-- Action bar (not inside PDF area) -->
  <div class="sticky top-0 z-50 backdrop-blur bg-white/50 border-b border-white/60">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="text-sm text-gray-600">Anjali‚Äôs Baking Bliss ‚Äî Menu (updated +‚Çπ50)</div>
      <div class="flex items-center gap-2">
        <button id="downloadBtn"
                class="inline-flex items-center gap-2 rounded-lg bg-cocoa-700 text-white px-4 py-2 text-sm font-semibold shadow hover:opacity-95">
          <span>Download PDF</span>
        </button>
      </div>
    </div>
  </div>

  <!-- PDF content -->
  <main id="menu" class="a4 mx-auto my-6 print:m-0 print:w-[210mm] print:min-h-[297mm] print:bg-white rounded-2xl bg-white/90 shadow-xl ring-1 ring-black/5 overflow-hidden print:shadow-none print:rounded-none print:ring-0 print:my-0 print:mx-auto print-smooth">
    <!-- Header -->
    <section class="relative p-10 pb-6">
      <div class="absolute inset-0 pointer-events-none">
        <div class="h-40 w-40 rounded-full bg-brand-100 blur-3xl opacity-60 -top-10 -left-10"></div>
        <div class="h-40 w-40 rounded-full bg-rose-200 blur-3xl opacity-50 top-0 right-0"></div>
      </div>

      <div class="relative text-center">
        <h1 class="font-display text-5xl md:text-6xl text-cocoa-700 tracking-tight">Anjali‚Äôs</h1>
        <p class="font-display text-2xl text-amber-700 -mt-1">Baking Bliss</p>
        <div class="mt-3 text-sm text-gray-500">Elegant ‚Ä¢ Fresh ‚Ä¢ Playful</div>
      </div>

      <div class="mt-6 h-px bg-gradient-to-r from-transparent via-amber-200 to-transparent"></div>
    </section>

    <!-- Signature Cakes -->
    <section class="px-8">
      <div class="flex items-end justify-between flex-wrap gap-3">
        <h2 class="font-display text-2xl text-cocoa-700">Signature Cakes ‚Äî 1kg</h2>
        <div class="text-xs text-gray-500">All cakes are eggless ¬∑ Pastel boutique style</div>
      </div>

      <div class="mt-5 grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Regular Cakes -->
        <div class="rounded-2xl bg-gradient-to-b from-white to-amber-50/50 border border-amber-100 p-5 shadow-card">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold text-cocoa-700">Regular Cakes</h3>
            <span class="text-[10px] px-2 py-0.5 rounded-full bg-amber-100 text-amber-700 border border-amber-200">1kg</span>
          </div>
          <ul id="regularList" class="mt-3 space-y-2"></ul>
        </div>

        <!-- Premium Cakes -->
        <div class="rounded-2xl bg-gradient-to-b from-white to-rose-50/50 border border-rose-100 p-5 shadow-card">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold text-cocoa-700">Premium Cakes</h3>
            <span class="text-[10px] px-2 py-0.5 rounded-full bg-rose-100 text-rose-700 border border-rose-200">1kg</span>
          </div>
          <ul id="premiumList" class="mt-3 space-y-2"></ul>
        </div>
      </div>
    </section>

    <!-- Specials -->
    <section class="px-8 mt-6 grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Custom Creations -->
      <div class="rounded-2xl bg-gradient-to-b from-white to-amber-50/40 border border-amber-100 p-5 shadow-card">
        <div class="flex items-center gap-2 text-cocoa-700 font-semibold">
          <span>üé®</span>
          <span>Custom Creations</span>
          <span class="ml-auto text-[10px] font-medium px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 border border-gray-200">Tailored</span>
        </div>
        <p class="text-sm text-gray-600 mt-2 leading-relaxed">
          We design special theme & shape cakes like Doll, Piano, Cartoon, Car, Heart and more ‚Äî crafted uniquely for your occasions.
        </p>
        <p class="text-xs text-gray-500 mt-2">Add‚Äëon charge: <span class="font-semibold text-cocoa-700">‚Çπ200</span></p>
      </div>

      <!-- Brownies -->
      <div class="rounded-2xl bg-gradient-to-b from-white to-stone-50 border border-stone-200 p-5 shadow-card">
        <div class="flex items-center gap-2 text-cocoa-700 font-semibold">
          <span>üç´</span>
          <span>Brownies</span>
          <span class="ml-auto text-[10px] font-medium px-2 py-0.5 rounded-full bg-stone-100 text-stone-700 border border-stone-200">Rich</span>
        </div>
        <ul id="browniesList" class="mt-3 space-y-1 text-sm text-gray-700"></ul>
        <div class="text-xs text-gray-500 mt-2">More varieties available on request</div>
      </div>

      <!-- Cookies -->
      <div class="rounded-2xl bg-gradient-to-b from-white to-teal-50/40 border border-teal-100 p-5 shadow-card">
        <div class="flex items-center gap-2 text-cocoa-700 font-semibold">
          <span>üç™</span>
          <span>Cookies</span>
          <span class="ml-auto text-[10px] font-medium px-2 py-0.5 rounded-full bg-teal-100 text-teal-800 border border-teal-200">Fresh</span>
        </div>
        <ul id="cookiesList" class="mt-3 space-y-1 text-sm text-gray-700"></ul>
        <div class="text-xs text-gray-500 mt-2">More cookie options available on request</div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="px-8 mt-8 pb-10">
      <div class="h-px bg-gradient-to-r from-transparent via-amber-200 to-transparent mb-4"></div>
      <div class="text-center text-sm text-gray-600 space-y-2">
        <div class="flex items-center justify-center gap-3">
          <span>üìç Bahadurpur Kari, Ratsar, Ballia</span>
          <span>‚Ä¢</span>
          <a href="tel:9026896865" class="hover:underline">üìû 9026896865</a>
        </div>
        <div class="inline-flex items-center gap-2 text-amber-700/90 bg-amber-50 px-3 py-1 rounded-full border border-amber-100">
          <span>‚ú®</span>
          <span class="text-xs">Freshly Baked Happiness, Always</span>
          <span>‚ú®</span>
        </div>
      </div>
    </footer>
  </main>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.8.0/html2pdf.bundle.min.js" integrity="sha512-w3u9q/DeneCSwUDjhiMNibTRh/1i/gScBVp2imNVAMCt6cUHIw6xzhzcPFIaL3Q1EbI2l+nu17q2aLJJLo4ZYg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
  // ===== Data (unchanged) =====
  const PRICE_OFFSET = 50;

  const REGULAR_CAKES = [
    { name: "Classic Vanilla Whisper", price: 450 },
    { name: "Tropical Pineapple Glow", price: 450, popular: true },
    { name: "Golden Mango Mist", price: 450 },
    { name: "Forest Kiss (Black Forest)", price: 500 },
    { name: "Strawberry Swirl", price: 500 },
    { name: "Blueberry Breeze", price: 500, popular: true },
    { name: "Butterscotch Velvet", price: 500 },
    { name: "Kiwi Bliss Delight", price: 500 },
    { name: "Choco Charm", price: 500 },
    { name: "Oreo Bliss", price: 600, popular: true },
    { name: "Dry Cake", price: 600 },
  ];

  const PREMIUM_CAKES = [
    { name: "Nutella Indulgence", price: 650, popular: true },
    { name: "White ChocoChip Fantasy", price: 650, popular: true },
    { name: "Dark ChocoChip Fantasy", price: 650, popular: true },
    { name: "Gems Galaxy", price: 700 },
    { name: "Kit Kat Crunch", price: 800 },
    { name: "Midnight Truffle Temptation", price: 800 },
    { name: "Scarlet Red Velvet", price: 800 },
    { name: "Royal Rasmalai Dream", price: 800 },
    { name: "Lotus Biscoff Luxe", price: 800 },
    { name: "Spiced Plum Elegance", price: 900 },
    { name: "Fruit & Nut Symphony", price: 1200 },
    { name: "Cheesecake (Multiple flavours)", price: 1200, popular: true },
  ];

  const BROWNIES = [
    { name: "Fudgy Chocolate", price: 80 },
    { name: "Walnut Crunch", price: 100 },
  ];

  const COOKIES = [
    { name: "Butter Cookie", price: 150, qty: "250g" },
    { name: "Classic Choco Chip", price: 150, qty: "250g" },
  ];

  const fmt = n => `‚Çπ${n.toLocaleString('en-IN')}`;
  const withIncrease = base => base + PRICE_OFFSET;

  function makeItemRow(item, accent = 'amber') {
    const li = document.createElement('li');
    li.className = "flex items-center justify-between rounded-xl bg-white/80 backdrop-blur-sm border px-3 py-2 shadow-sm";
    li.classList.add(`border-${accent}-100`);
    li.innerHTML = `
      <div class="flex items-center gap-2 min-w-0">
        <span class="h-2.5 w-2.5 rounded-full bg-${accent}-400"></span>
        <span class="truncate text-sm text-gray-800">${item.name}</span>
        ${item.popular ? `
          <span class="ml-2 text-[10px] px-1.5 py-0.5 rounded-full bg-gradient-to-r from-amber-100 to-amber-50 text-amber-700 border border-amber-200">
            ‚≠ê Popular
          </span>` : ``}
      </div>
      <div class="text-sm font-semibold text-cocoa-700 tabular-nums">${fmt(withIncrease(item.price))}</div>
    `;
    return li;
  }

  function renderLists() {
    const regularList = document.getElementById('regularList');
    const premiumList = document.getElementById('premiumList');
    const browniesList = document.getElementById('browniesList');
    const cookiesList = document.getElementById('cookiesList');

    REGULAR_CAKES.forEach(item => regularList.appendChild(makeItemRow(item, 'amber')));
    PREMIUM_CAKES.forEach(item => premiumList.appendChild(makeItemRow(item, 'rose')));

    BROWNIES.forEach(b => {
      const li = document.createElement('li');
      li.className = "flex items-center justify-between";
      li.innerHTML = `<span>${b.name}</span>
        <span class="font-semibold text-cocoa-700">${fmt(withIncrease(b.price))}</span>`;
      browniesList.appendChild(li);
    });

    COOKIES.forEach(c => {
      const li = document.createElement('li');
      li.className = "flex items-center justify-between";
      li.innerHTML = `<span>${c.name} <span class="text-xs text-gray-500">(${c.qty})</span></span>
        <span class="font-semibold text-cocoa-700">${fmt(withIncrease(c.price))}</span>`;
      cookiesList.appendChild(li);
    });
  }

  async function downloadPDF() {
    // Wait one frame for any pending layout
    await new Promise(r => requestAnimationFrame(r));

    const element = document.querySelector('#menu');
    if (!element) {
      console.error('Missing #menu element. Make sure your PDF container has id="menu".');
      alert('Could not find the PDF area on the page (#menu).');
      return;
    }

    // Ensure fonts are loaded
    if (document.fonts && document.fonts.ready) {
      await document.fonts.ready;
    }

    const opt = {
      margin: [8, 8, 12, 8],
      filename: 'Anjalis-Baking-Bliss-Menu.pdf',
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: { scale: 2, useCORS: true, backgroundColor: null },
      jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
    };

    try {
      await html2pdf().from(element).set(opt).save();
    } catch (err) {
      console.error('html2pdf failed:', err);
      alert('Failed to create the PDF. See the console for details.');
    }
  }

  // Attach events only after the DOM is ready
  document.addEventListener('DOMContentLoaded', () => {
    renderLists();

    const btn = document.getElementById('downloadBtn');
    if (btn) btn.addEventListener('click', downloadPDF);
    else console.warn('Download button (#downloadBtn) not found.');
  });
</script>
</body>
</html>